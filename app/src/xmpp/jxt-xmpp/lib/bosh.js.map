{"version":3,"sources":["../src/bosh.js"],"names":[],"mappings":"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","file":"bosh.js","sourcesContent":["import { Namespace as NS } from 'xmpp-constants';\n\n\nexport default function (JXT) {\n\n    let Utils = JXT.utils;\n\n    JXT.define({\n        name: 'bosh',\n        namespace: NS.BOSH,\n        element: 'body',\n        prefixes: {\n            xmpp: NS.BOSH_XMPP\n        },\n        fields: {\n            accept: Utils.attribute('accept'),\n            ack: Utils.numberAttribute('ack'),\n            authid: Utils.attribute('authid'),\n            charsets: Utils.attribute('charsets'),\n            condition: Utils.attribute('condition'),\n            content: Utils.attribute('content'),\n            from: Utils.jidAttribute('from', true),\n            hold: Utils.numberAttribute('hold'),\n            inactivity: Utils.numberAttribute('inactivity'),\n            key: Utils.attribute('key'),\n            maxpause: Utils.numberAttribute('maxpause'),\n            newKey: Utils.attribute('newkey'),\n            pause: Utils.numberAttribute('pause'),\n            polling: Utils.numberAttribute('polling'),\n            resport: Utils.numberAttribute('report'),\n            requests: Utils.numberAttribute('requests'),\n            rid: Utils.numberAttribute('rid'),\n            sid: Utils.attribute('sid'),\n            stream: Utils.attribute('stream'),\n            time: Utils.attribute('time'),\n            to: Utils.jidAttribute('to', true),\n            type: Utils.attribute('type'),\n            ver: Utils.attribute('ver'),\n            wait: Utils.numberAttribute('wait'),\n            uri: Utils.textSub(NS.BOSH, 'uri'),\n            lang: Utils.langAttribute(),\n            // These three should be using namespaced attributes, but browsers are stupid\n            // when it comes to serializing attributes with namespaces\n            version: Utils.attribute('xmpp:version', '1.0'),\n            restart: Utils.attribute('xmpp:restart'),\n            restartLogic: Utils.boolAttribute('xmpp:restartLogic'),\n            payload: {\n                get: function () {\n\n                    let results = [];\n                    for (let i = 0, len = this.xml.childNodes.length; i < len; i++) {\n                        let obj = JXT.build(this.xml.childNodes[i]);\n                        if (obj !== undefined) {\n                            results.push(obj);\n                        }\n                    }\n                    return results;\n                },\n                set: function (values) {\n\n                    values.forEach((types) => {\n\n                        this.xml.appendChild(types.xml);\n                    });\n                }\n            }\n        }\n    });\n}\n"]}