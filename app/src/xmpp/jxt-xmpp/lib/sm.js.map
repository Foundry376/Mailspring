{"version":3,"sources":["../src/sm.js"],"names":[],"mappings":";;;;;;6BAAgC,gBAAgB;;qBAGjC,UAAU,GAAG,EAAE;;AAE1B,QAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;;AAEtB,QAAI,SAAS,GAAG,GAAG,CAAC,MAAM,CAAC;AACvB,YAAI,EAAE,kBAAkB;AACxB,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,IAAI;KAChB,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,UAAU;AAChB,iBAAS,EAAE,0BAA0B;AACrC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,QAAQ;AACjB,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE;AACJ,kBAAM,EAAE,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC;SACxC;KACJ,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,WAAW;AACjB,iBAAS,EAAE,2BAA2B;AACtC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,SAAS;AAClB,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE;AACJ,cAAE,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC;AACzB,kBAAM,EAAE,KAAK,CAAC,aAAa,CAAC,QAAQ,CAAC;SACxC;KACJ,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,UAAU;AAChB,iBAAS,EAAE,0BAA0B;AACrC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,QAAQ;AACjB,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE;AACJ,aAAC,EAAE,KAAK,CAAC,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;AACvC,kBAAM,EAAE,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC;SACpC;KACJ,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,WAAW;AACjB,iBAAS,EAAE,2BAA2B;AACtC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,SAAS;AAClB,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE;AACJ,aAAC,EAAE,KAAK,CAAC,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;AACvC,kBAAM,EAAE,KAAK,CAAC,SAAS,CAAC,QAAQ,CAAC;SACpC;KACJ,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,UAAU;AAChB,iBAAS,EAAE,0BAA0B;AACrC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,QAAQ;AACjB,gBAAQ,EAAE,IAAI;KACjB,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,OAAO;AACb,iBAAS,EAAE,uBAAuB;AAClC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,GAAG;AACZ,gBAAQ,EAAE,IAAI;AACd,cAAM,EAAE;AACJ,aAAC,EAAE,KAAK,CAAC,eAAe,CAAC,GAAG,EAAE,KAAK,EAAE,CAAC,CAAC;SAC1C;KACJ,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC;AACP,YAAI,EAAE,WAAW;AACjB,iBAAS,EAAE,2BAA2B;AACtC,iBAAS,EAAE,yBAAG,QAAQ;AACtB,eAAO,EAAE,GAAG;AACZ,gBAAQ,EAAE,IAAI;KACjB,CAAC,CAAC;;AAGH,OAAG,CAAC,oBAAoB,CAAC,SAAS,CAAC,CAAC;CACvC","file":"sm.js","sourcesContent":["import { Namespace as NS } from 'xmpp-constants';\n\n\nexport default function (JXT) {\n\n    let Utils = JXT.utils;\n\n    let SMFeature = JXT.define({\n        name: 'streamManagement',\n        namespace: NS.SMACKS_3,\n        element: 'sm'\n    });\n\n    JXT.define({\n        name: 'smEnable',\n        eventName: 'stream:management:enable',\n        namespace: NS.SMACKS_3,\n        element: 'enable',\n        topLevel: true,\n        fields: {\n            resume: Utils.boolAttribute('resume')\n        }\n    });\n\n    JXT.define({\n        name: 'smEnabled',\n        eventName: 'stream:management:enabled',\n        namespace: NS.SMACKS_3,\n        element: 'enabled',\n        topLevel: true,\n        fields: {\n            id: Utils.attribute('id'),\n            resume: Utils.boolAttribute('resume')\n        }\n    });\n\n    JXT.define({\n        name: 'smResume',\n        eventName: 'stream:management:resume',\n        namespace: NS.SMACKS_3,\n        element: 'resume',\n        topLevel: true,\n        fields: {\n            h: Utils.numberAttribute('h', false, 0),\n            previd: Utils.attribute('previd')\n        }\n    });\n\n    JXT.define({\n        name: 'smResumed',\n        eventName: 'stream:management:resumed',\n        namespace: NS.SMACKS_3,\n        element: 'resumed',\n        topLevel: true,\n        fields: {\n            h: Utils.numberAttribute('h', false, 0),\n            previd: Utils.attribute('previd')\n        }\n    });\n\n    JXT.define({\n        name: 'smFailed',\n        eventName: 'stream:management:failed',\n        namespace: NS.SMACKS_3,\n        element: 'failed',\n        topLevel: true\n    });\n\n    JXT.define({\n        name: 'smAck',\n        eventName: 'stream:management:ack',\n        namespace: NS.SMACKS_3,\n        element: 'a',\n        topLevel: true,\n        fields: {\n            h: Utils.numberAttribute('h', false, 0)\n        }\n    });\n\n    JXT.define({\n        name: 'smRequest',\n        eventName: 'stream:management:request',\n        namespace: NS.SMACKS_3,\n        element: 'r',\n        topLevel: true\n    });\n\n\n    JXT.extendStreamFeatures(SMFeature);\n}\n"]}