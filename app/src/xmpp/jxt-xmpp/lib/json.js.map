{"version":3,"sources":["../src/json.js"],"names":[],"mappings":";;;;;;6BAAgC,gBAAgB;;qBAGjC,UAAU,GAAG,EAAE;;AAE1B,QAAI,aAAa,GAAG;AAChB,WAAG,EAAE,eAAY;;AAEb,gBAAI,IAAI,GAAG,GAAG,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,yBAAG,MAAM,EAAE,MAAM,CAAC,CAAC;AAC7D,gBAAI,IAAI,EAAE;AACN,uBAAO,IAAI,CAAC,KAAK,CAAC,IAAI,CAAC,CAAC;aAC3B;SACJ;AACD,WAAG,EAAE,aAAU,KAAK,EAAE;;AAElB,iBAAK,GAAG,IAAI,CAAC,SAAS,CAAC,KAAK,CAAC,CAAC;AAC9B,gBAAI,KAAK,EAAE;AACP,mBAAG,CAAC,KAAK,CAAC,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,yBAAG,MAAM,EAAE,MAAM,EAAE,KAAK,CAAC,CAAC;aAC5D;SACJ;KACJ,CAAC;;AAGF,OAAG,CAAC,WAAW,CAAC,UAAU,OAAO,EAAE;;AAE/B,WAAG,CAAC,GAAG,CAAC,OAAO,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;KAC3C,CAAC,CAAC;;AAEH,OAAG,CAAC,cAAc,CAAC,UAAU,IAAI,EAAE;;AAE/B,WAAG,CAAC,GAAG,CAAC,IAAI,EAAE,MAAM,EAAE,aAAa,CAAC,CAAC;KACxC,CAAC,CAAC;CACN","file":"json.js","sourcesContent":["import { Namespace as NS } from 'xmpp-constants';\n\n\nexport default function (JXT) {\n\n    let JSONExtension = {\n        get: function () {\n\n            let data = JXT.utils.getSubText(this.xml, NS.JSON_0, 'json');\n            if (data) {\n                return JSON.parse(data);\n            }\n        },\n        set: function (value) {\n\n            value = JSON.stringify(value);\n            if (value) {\n                JXT.utils.setSubText(this.xml, NS.JSON_0, 'json', value);\n            }\n        }\n    };\n\n\n    JXT.withMessage(function (Message) {\n\n        JXT.add(Message, 'json', JSONExtension);\n    });\n\n    JXT.withPubsubItem(function (Item) {\n\n        JXT.add(Item, 'json', JSONExtension);\n    });\n}\n"]}