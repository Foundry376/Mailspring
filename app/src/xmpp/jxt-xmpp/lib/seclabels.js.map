{"version":3,"sources":["../src/seclabels.js"],"names":[],"mappings":";;;;;;6BAAgC,gBAAgB;;qBAGjC,UAAU,GAAG,EAAE;;AAE1B,QAAI,KAAK,GAAG,GAAG,CAAC,KAAK,CAAC;;AAEtB,QAAI,QAAQ,GAAG,GAAG,CAAC,MAAM,CAAC;AACtB,YAAI,EAAE,eAAe;AACrB,iBAAS,EAAE,yBAAG,WAAW;AACzB,eAAO,EAAE,eAAe;AACxB,cAAM,EAAE;AACJ,mBAAO,EAAE,KAAK,CAAC,OAAO,CAAC,yBAAG,WAAW,EAAE,gBAAgB,CAAC;AACxD,iBAAK,EAAE,KAAK,CAAC,YAAY,CAAC,yBAAG,WAAW,EAAE,gBAAgB,EAAE,SAAS,CAAC;AACtE,sBAAU,EAAE,KAAK,CAAC,YAAY,CAAC,yBAAG,WAAW,EAAE,gBAAgB,EAAE,SAAS,CAAC;SAC9E;KACJ,CAAC,CAAC;;AAEH,QAAI,KAAK,GAAG,GAAG,CAAC,MAAM,CAAC;AACnB,YAAI,EAAE,OAAO;AACb,iBAAS,EAAE,yBAAG,WAAW;AACzB,eAAO,EAAE,OAAO;AAChB,cAAM,EAAE;AACJ,gBAAI,EAAE,KAAK,CAAC,IAAI,EAAE;AAClB,eAAG,EAAE,KAAK,CAAC,OAAO,CAAC,yBAAG,eAAe,EAAE,kBAAkB,CAAC;SAC7D;KACJ,CAAC,CAAC;;AAEH,QAAI,eAAe,GAAG,GAAG,CAAC,MAAM,CAAC;AAC7B,YAAI,EAAE,kBAAkB;AACxB,iBAAS,EAAE,yBAAG,WAAW;AACzB,eAAO,EAAE,iBAAiB;AAC1B,cAAM,EAAE;AACJ,gBAAI,EAAE,KAAK,CAAC,IAAI,EAAE;AAClB,eAAG,EAAE,KAAK,CAAC,OAAO,CAAC,yBAAG,eAAe,EAAE,kBAAkB,CAAC;SAC7D;KACJ,CAAC,CAAC;;AAEH,QAAI,OAAO,GAAG,GAAG,CAAC,MAAM,CAAC;AACrB,YAAI,EAAE,sBAAsB;AAC5B,iBAAS,EAAE,yBAAG,mBAAmB;AACjC,eAAO,EAAE,SAAS;AAClB,cAAM,EAAE;AACJ,cAAE,EAAE,KAAK,CAAC,YAAY,CAAC,IAAI,CAAC;AAC5B,gBAAI,EAAE,KAAK,CAAC,YAAY,CAAC,MAAM,CAAC;AAChC,gBAAI,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;AAC7B,uBAAW,EAAE,KAAK,CAAC,SAAS,CAAC,MAAM,CAAC;AACpC,cAAE,EAAE,KAAK,CAAC,SAAS,CAAC,IAAI,CAAC;AACzB,gBAAI,EAAE,KAAK,CAAC,eAAe,CAAC,MAAM,CAAC;AACnC,oBAAQ,EAAE,KAAK,CAAC,aAAa,CAAC,UAAU,CAAC;SAC5C;KACJ,CAAC,CAAC;;AAEH,QAAI,WAAW,GAAG,GAAG,CAAC,MAAM,CAAC;AACzB,YAAI,EAAE,2BAA2B;AACjC,iBAAS,EAAE,yBAAG,mBAAmB;AACjC,eAAO,EAAE,MAAM;AACf,cAAM,EAAE;AACJ,oBAAQ,EAAE,KAAK,CAAC,SAAS,CAAC,UAAU,CAAC;AACrC,uBAAS,KAAK,CAAC,aAAa,CAAC,SAAS,CAAC;SAC1C;KACJ,CAAC,CAAC;;AAEH,OAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,KAAK,CAAC,CAAC;AAC5B,OAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,eAAe,EAAE,kBAAkB,CAAC,CAAC;AAC1D,OAAG,CAAC,MAAM,CAAC,WAAW,EAAE,QAAQ,CAAC,CAAC;AAClC,OAAG,CAAC,MAAM,CAAC,OAAO,EAAE,WAAW,EAAE,OAAO,CAAC,CAAC;;AAE1C,OAAG,CAAC,aAAa,CAAC,QAAQ,CAAC,CAAC;AAC5B,OAAG,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC;CACzB","file":"seclabels.js","sourcesContent":["import { Namespace as NS } from 'xmpp-constants';\n\n\nexport default function (JXT) {\n\n    let Utils = JXT.utils;\n\n    let Security = JXT.define({\n        name: 'securityLabel',\n        namespace: NS.SEC_LABEL_0,\n        element: 'securitylabel',\n        fields: {\n            display: Utils.textSub(NS.SEC_LABEL_0, 'displaymarking'),\n            color: Utils.subAttribute(NS.SEC_LABEL_0, 'displaymarking', 'fgcolor'),\n            background: Utils.subAttribute(NS.SEC_LABEL_0, 'displaymarking', 'bgcolor')\n        }\n    });\n\n    let Label = JXT.define({\n        name: 'label',\n        namespace: NS.SEC_LABEL_0,\n        element: 'label',\n        fields: {\n            text: Utils.text(),\n            ess: Utils.textSub(NS.SEC_LABEL_ESS_0, 'esssecuritylabel')\n        }\n    });\n\n    let EquivalentLabel = JXT.define({\n        name: '_equivalentLabel',\n        namespace: NS.SEC_LABEL_0,\n        element: 'equivalentlabel',\n        fields: {\n            text: Utils.text(),\n            ess: Utils.textSub(NS.SEC_LABEL_ESS_0, 'esssecuritylabel')\n        }\n    });\n\n    let Catalog = JXT.define({\n        name: 'securityLabelCatalog',\n        namespace: NS.SEC_LABEL_CATALOG_2,\n        element: 'catalog',\n        fields: {\n            to: Utils.jidAttribute('to'),\n            from: Utils.jidAttribute('from'),\n            name: Utils.attribute('name'),\n            description: Utils.attribute('desc'),\n            id: Utils.attribute('id'),\n            size: Utils.numberAttribute('size'),\n            restrict: Utils.boolAttribute('restrict')\n        }\n    });\n\n    let CatalogItem = JXT.define({\n        name: '_securityLabelCatalogItem',\n        namespace: NS.SEC_LABEL_CATALOG_2,\n        element: 'item',\n        fields: {\n            selector: Utils.attribute('selector'),\n            default: Utils.boolAttribute('default')\n        }\n    });\n\n    JXT.extend(Security, Label);\n    JXT.extend(Security, EquivalentLabel, 'equivalentLabels');\n    JXT.extend(CatalogItem, Security);\n    JXT.extend(Catalog, CatalogItem, 'items');\n\n    JXT.extendMessage(Security);\n    JXT.extendIQ(Catalog);\n}\n\n"]}