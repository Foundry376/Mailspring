{"version":3,"sources":["../src/file.js"],"names":[],"mappings":"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","file":"file.js","sourcesContent":["import { Namespace as NS } from 'xmpp-constants';\n\n\nconst FT_NS = NS.FILE_TRANSFER_4;\n\n\nexport default function (JXT) {\n\n    let Utils = JXT.utils;\n\n    let File = JXT.define({\n        name: 'file',\n        namespace: FT_NS,\n        element: 'file',\n        fields: {\n            name: Utils.textSub(FT_NS, 'name'),\n            description: Utils.textSub(FT_NS, 'desc'),\n            mediaType: Utils.textSub(FT_NS, 'media-type'),\n            size: Utils.numberSub(FT_NS, 'size'),\n            date: Utils.dateSub(FT_NS, 'date')\n        }\n    });\n\n    let Range = JXT.define({\n        name: 'range',\n        namespace: FT_NS,\n        element: 'range',\n        fields: {\n            offset: Utils.numberAttribute('offset'),\n            length: Utils.numberAttribute('length')\n        }\n    });\n\n    let FileTransfer = JXT.define({\n        name: '_' + FT_NS,\n        namespace: FT_NS,\n        element: 'description',\n        tags: [ 'jingle-application' ],\n        fields: {\n            applicationType: { value: FT_NS, writable: true, }\n        }\n    });\n\n    let Received = JXT.define({\n        name: '_{' + FT_NS + '}received',\n        namespace: FT_NS,\n        element: 'received',\n        tags: [ 'jingle-info' ],\n        fields: {\n            infoType: { value: '{' + FT_NS + '}received' },\n            creator: Utils.attribute('creator'),\n            name: Utils.attribute('name')\n        }\n    });\n\n    let Checksum = JXT.define({\n        name: '_{' + FT_NS + '}checksum',\n        namespace: FT_NS,\n        element: 'checksum',\n        tags: [ 'jingle-info' ],\n        fields: {\n            infoType: { value: '{' + FT_NS + '}checksum' },\n            creator: Utils.attribute('creator'),\n            name: Utils.attribute('name')\n        }\n    });\n\n    JXT.extend(File, Range);\n    JXT.extend(Checksum, File);\n    JXT.extend(FileTransfer, File);\n\n    JXT.withDefinition('hash', NS.HASHES_1, function (Hash) {\n\n        JXT.extend(File, Hash, 'hashes');\n        JXT.extend(Range, Hash, 'hashes');\n    });\n\n    JXT.withDefinition('content', NS.JINGLE_1, function (Content) {\n\n        JXT.extend(Content, FileTransfer);\n    });\n\n    JXT.withDefinition('jingle', NS.JINGLE_1, function (Jingle) {\n\n        JXT.extend(Jingle, Received);\n        JXT.extend(Jingle, Checksum);\n    });\n}\n\n"]}